<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:replace="~{partials/venued_partials :: myheader('Profile')}"></div>
    <link rel="stylesheet" th:href="@{/css/universalStyle.css}">
    <link rel="stylesheet" th:href="@{/css/profile/profile.css}">
</head>
<body th:object="${user}">
  <div class="page-wrapper">

        <nav th:replace="~{partials/venued_partials :: mynav}"></nav>

        <section class="main-wrapper">
            <!----- row wrapper starts here ----->
            <div class="row-wrapper">

                <!---- first column wrapper starts here ------>
                <div class="first-card-wrapper">

                    <!--- profile picture starts here ---->
                    <div class="avatar-container">
                        <div id="profile-info-container">
                            <form id="profilePicForm" th:method="Post" th:action="@{/profilePic}" style="display: none">
                                <input name="profilePicInput" id="profilePicInput" type="text">
                            </form>
                            <img th:if="${user.getImgPath() != null}"
                                 th:src="${user.getImgPath()}" alt="Profile Picture"
                                 class="profileImg"/>
                            <img th:if="${user.getImgPath() == null}"
                                 th:src="@{/imgs/avatar-image.png}" alt="Profile Picture"
                                 class="profileImg"/>
                            <p id="profilePicChangeButton">Upload Photo</p>
                        </div>
                        <div>
                            <p th:text="${user.name}"></p>
                            <p th:text="${user.bio}"></p>
                        </div>
                        <div class="edit-btn-container">
                            <button class="edit-btn">Edit Profile</button>
                        </div>
                    </div><!---profile picture ends here ---->

                    <!---- profile form starts here ------>
                    <div class="form-container">
                        <form class="form" th:action="@{/user-info}" th:method="post" th:object="${user}">
                            <div>
                               <label for="name">Name</label>
                               <input type="text" name="name" id="name" th:field="*{name}">
                            </div>
                            <div>
                               <label for="bio">Bio</label>
                               <textarea id="bio" cols="30" name="bio" rows="5" placeholder="Add a bio..." th:field="*{bio}"></textarea>
                            </div>
                            <div>
                                <input type="submit" value="Save" name="submit" id="submit-btn">
                                <button class="cancel" id="cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div><!--- profile form ends here ---->

                </div><!---- first column wrapper end here ----->


                <!---- second column wrapper starts here ------->
                <div class="second-card-wrapper">

                    <!---- list of all tabs start here ------>
                    <ul class="lists-wrapper" id="myTab">
                        <li class="list-item">
                            <button class="tab-btn active" id="tip-tab" data-content="1">
                                <span class="badge rounded-pill bg-secondary me-1" th:text="${allTipsLength}"></span>
                                Tips
                            </button>
                        </li>
                        <li class="list-item">
                            <button class="tab-btn" id="question-tab" data-content="2">
                                <span class="badge rounded-pill bg-secondary me-1" th:text="${allQuestionsLength}"></span>
                               Questions
                            </button>
                        </li>
                        <li class="list-item">
                            <button class="tab-btn" id="answer-tab" data-content="3">
                                <span class="badge rounded-pill bg-secondary me-1" th:text="${allAnswersLength}"></span>
                                Answers
                            </button>
                        </li>
                    </ul><!---- list of all tabs end here ---->

                    <!------ tab content wrapper start here ---->
                    <div id="TabContents">

                        <!-- first tab content card begins here -->
                        <div class="tab-content show-content" data-content="1">
                            <ul class="list-tips" th:each="tip : ${allTips}">
                                <li class="list-items user-tip-list">
                                    <div th:text="${tip.getTipContent()}"></div>
                                    <div>
<!--                                        <button class="edit-button">edit</button>-->
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#tipModal">
                                            edit
                                        </button>
                                        <button>delete</button>
                                        <!-- Modal -->
                                        <div class="modal fade" id="tipModal" tabindex="-1" aria-labelledby="tipModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h1 class="modal-title fs-5" id="tipModalLabel">Modal title</h1>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        ...
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                                                        <button type="button" class="btn">Save changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- modal end here -->
                                    </div>
                                </li>
                            </ul>
                        </div><!---- first tab content card end here ----->

                        <!-- second tab content card begins here -->
                        <div class="tab-content" data-content="2">
                            <ul class="list-questions" th:each="question : ${allQuestions}">
                                <li class="list-items user-question-list">
                                    <div th:text="${question.getQuestion()}"></div>
                                    <div>
<!--                                        <button class="edit-button">edit</button>-->
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#equestionModal">
                                            edit
                                        </button>
                                        <button>delete</button>
                                        <!-- Modal -->
                                        <div class="modal fade" id="questionModal" tabindex="-1" aria-labelledby="questionModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h1 class="modal-title fs-5" id="questionModalLabel">Modal title</h1>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        ...
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                                                        <button type="button" class="btn">Save changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- modal end here -->
                                    </div>
                                </li>
                            </ul>
                        </div><!--- second tab content card end here --->

                        <!-- third tab content card begins here -->
                        <div class="tab-content" data-content="3">
                            <ul class="answered-question" th:each="answer : ${allAnswers}">
                                <li class="list-items answered-question-list">
                                    <div th:text="${answer.getAnswer()}"></div>
                                    <div>
<!--                                        <button class="edit-button">edit</button>-->
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#answerModal">
                                            edit
                                        </button>
                                        <button>delete</button>
                                        <!-- Modal -->
                                        <div class="modal fade" id="answerModal" tabindex="-1" aria-labelledby="answerModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h1 class="modal-title fs-5" id="answerModalLabel">Modal title</h1>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        ...
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                                                        <button type="button" class="btn">Save changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div><!-- modal end here -->
                                    </div>
                                </li>
                            </ul>
                        </div><!--- third tab content card end here ---->

                    </div><!---- tab content wrapper end here ----->
                </div><!--- second column wrapper end here -->
            </div><!--- row wrapper end here --->
        </section>
      <footer th:replace="~{partials/venued_partials.html :: footer}"></footer>
  </div>
  <script src="//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
  <script src="/js/profile.js"></script>
</body>
</html>
